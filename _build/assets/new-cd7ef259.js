import{g,a as d,i as s,b as x,u as E,c as y,t as m}from"./web-3196b614.js";import{c as M}from"./invoices-d1a175d8.js";import{w as N,k as C,b as r,j as I,S as k,M as o,q as j}from"./solid-4c629049.js";import{l as L}from"./routing-5942bcce.js";import{u as P,d as q}from"./server-runtime-cb7094d4.js";const A="_7Myj2a_dialog",D={dialog:A};var R=m("<p>Encountered an error: <!$><!/>"),z=m('<div id=dialog popover=auto open><!$><!/><form method=post><input name=someInput type=text value="Some value"><button type=submit></button></form><button popovertarget=dialog popovertargetaction=hide>cancel');const p=q(async i=>await M(i),"createInvoice");function K(){const i=L();let n;const e=P(p);return N(()=>{n.addEventListener("toggle",t=>{t.newState==="closed"&&i("/sales/invoices",{replace:!0})}),n.showPopover()}),C(()=>{e.pending===!1&&e.result!==void 0&&!(e.result instanceof Error)&&n.hidePopover()}),(()=>{var t=g(z),f=t.firstChild,[l,h]=d(f.nextSibling),c=l.nextSibling,v=c.firstChild,_=v.nextSibling,u=n;return typeof u=="function"?E(u,t):n=t,s(t,r(k,{get when(){return e.result instanceof Error},get children(){var a=g(R),$=a.firstChild,b=$.nextSibling,[w,S]=d(b.nextSibling);return s(a,()=>e.result.message,w,S),a}}),l,h),x(c,"action",p),s(_,r(j,{get children(){return[r(o,{get when(){return e.pending},children:"working on it"}),r(o,{get when(){return e.result instanceof Error},children:"retry?"}),r(o,{get when(){return e.result},children:"Done!"}),r(o,{when:!0,children:"Lets go!"})]}})),I(()=>y(t,D.dialog)),t})()}export{K as default};
